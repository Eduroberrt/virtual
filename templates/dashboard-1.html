{% extends 'main.html' %}
{% load static %}
{% load currency_filters %}

{% block title %}Dashboard 1 - 5sim Service - Young PG Virtual{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'dashboard-1.css' %}">
{% endblock %}

{% block content %}
{% csrf_token %}

<!-- Modern Dashboard Layout -->
<div class="modern-dashboard">
    <!-- Main Content Area -->
    <div class="container-fluid">
        <div class="row g-4">
            <!-- Service Selection Panel -->
            <div class="col-xl-5">
                <div class="service-panel glass-card">
                    <div class="card-header">
                        <h5 class="card-title fw-bold mb-0">
                            SMS Verification
                        </h5>
                    </div>
                    <div class="card-body p-4">
                        <p class="text-muted mb-4 small">
                            Rent a phone for up to 15 minutes.<br>
                            Choose your country and service for automatic pricing.
                        </p>
                        
                        <div class="form-stack">
                            <div class="form-group">
                                <label class="modern-label">
                                    <i class="fas fa-flag me-2"></i>Country
                                </label>
                                <div class="intelligent-dropdown">
                                    <div id="countryDropdownSelected" class="dropdown-selected">
                                        Choose your country...
                                    </div>
                                    <div id="countryDropdownContainer" class="dropdown-container">
                                        <input type="text" id="countrySearch" class="dropdown-search" placeholder="Search countries...">
                                        <div id="countryOptions" class="dropdown-options">
                                            <!-- Options will be populated here -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="modern-label">
                                    <i class="fas fa-apps me-2"></i>Service
                                </label>
                                <div class="intelligent-dropdown">
                                    <div id="serviceDropdownSelected" class="dropdown-selected" style="color: #999;">
                                        Select country first...
                                    </div>
                                    <div id="serviceDropdownContainer" class="dropdown-container">
                                        <input type="text" id="serviceSearch" class="dropdown-search" placeholder="Search services...">
                                        <div id="serviceOptions" class="dropdown-options">
                                            <!-- Options will be populated here -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Purchase Button -->
                            <div class="form-group mt-4">
                                <button id="purchaseBtn" class="btn btn-primary btn-lg" disabled>
                                    Select service
                                </button>
                                <!-- Error message for no operators -->
                                <div id="operatorError" class="mt-2" style="display: none; color: #dc3545; font-size: 14px; font-weight: 500;">
                                    <i class="fas fa-exclamation-circle me-1"></i>
                                    No operators available for this selected service
                                </div>
                            </div>
                            
                            <!-- Message Display Areas -->
                            <div id="errorMessage" class="alert alert-danger" style="display: none;"></div>
                            <div id="successMessage" class="alert alert-success" style="display: none;"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Recent Orders Panel -->
            <!-- <div class="col-xl-7">
                <div class="orders-panel glass-card">
                    <div class="card-header">
                        <h5 class="card-title fw-bold mb-0">
                            Recent Orders
                        </h5>
                    </div>
                    <div class="card-body p-4">
                        <div class="table-responsive">
                            <table id="recentOrdersTable" class="table table-borderless">
                                <thead>
                                    <tr class="text-muted small">
                                        <th>Service</th>
                                        <th>Country</th>
                                        <th>Number</th>
                                        <th>TTL</th>
                                        <th>Code</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td colspan="6" class="text-center text-muted">
                                            <i class="fas fa-inbox"></i> Loading orders...
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div> -->
        </div>
    </div>
</div>

{% endblock %}

{% block extra_js %}
    <script src="{% static 'dashboard-1.js' %}"></script>
{% endblock %}
